# CLAUDE.md

このファイルは、Claude Codeにコーディング規約とプロジェクトのスタンスを提供します。

## このドキュメントについて

- **規範的に記述**: 「～済み」ではなく「～すべき」と書く
- **汎用性重視**: プロジェクト固有の状態でなく、あるべき姿を記述
- **README.mdとの棲み分け**: 概要・使い方はREADME.md、開発方針はCLAUDE.md

## README.md作成指針

### 原則

- 簡潔でスキャン可能に（目安: 150行以内）
- 変動する数値（テスト数、カバレッジ等）は手書きしない → CIバッジを使用
- 詳細はコードやCIで確認できる情報は省略

### 避けるべき内容

- 技術スタック詳細、プロジェクト構成図、冗長な説明
- 使用予定のないプラットフォーム情報

## コーディング規約

### 設計原則

- **関数型優先**: クラスより関数、宣言的スタイル（`map`/`filter`）
- **型安全性**: strict mode、必須プロパティは`?`不要、型アサーション最小化
- **DRY + 早期リターン**: 重複排除、ネスト削減

### テスト

- **Co-location**: `validators.ts` → `validators.test.ts`
- **カバレッジ**: 80%以上
- **ビルド除外**: `tsconfig.json`で`**/*.test.ts`を除外

```json
"exclude": ["node_modules", "dist", "**/*.test.ts", "**/*.spec.ts"]
```

### パフォーマンス

- **並列化**: I/O処理は`Promise.all`
- **メモリ効率**: 頻出定数はモジュールレベル
- **重複排除**: キャッシュと再利用

### 開発フロー

- **Lint**: コミット前に`bun run lint`
- **テスト**: 全テスト通過を確認
- **コミット**: Conventional Commits形式
- **バージョン**: SemVer（v0.1.1形式のタグ）
